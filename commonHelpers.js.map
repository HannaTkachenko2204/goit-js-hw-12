{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43261093-4c9b6888dd775193ca00ecdb2';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function imageSearch(inputEl) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: `${inputEl}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}","export function createMarkup(arr) {\n    return arr\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n          `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            <ul class=\"box-list\">\n              <li>\n                <h2 class=\"box-title\">Likes</h2>\n                <p class=\"box-text\">${likes}</p>\n              </li>\n              <li>\n                <h2 class=\"box-title\">Views</h2>\n                <p class=\"box-text\">${views}</p>\n              </li>\n              <li class=\"box-item\">\n                <h2 class=\"box-title\">Comments</h2>\n                <p class=\"box-text\">${comments}</p>\n              </li>\n              <li class=\"box-item\">\n                <h2 class=\"box-title\">Downloads</h2>\n                <p class=\"box-text\">${downloads}</p>\n              </li>\n            </ul>\n          </a>\n        </li>`\n      )\n      .join('');\n    }","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { imageSearch } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst formEl = document.querySelector('form');\nconst ulEl = document.querySelector('ul');\nconst loaderEl = document.querySelector('.loader');\nloaderEl.style.display = 'none';\n\nformEl.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const form = event.target;\n  const inputEl = form.elements.imgname.value;\n  if (inputEl === '') {\n    iziToast.show({\n      message: 'Field must be filled in!',\n      position: 'topRight',\n      backgroundColor: 'red',\n      messageColor: '#FFFFFF',\n      transitionIn: 'fadeln',\n      timeout: 4000,\n    });\n    return;\n  }\n\n  loaderEl.style.display = 'block';\n\n  imageSearch(inputEl)\n    .then(data => {\n      //console.log(data.hits.length);\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: 'red',\n          messageColor: '#FFFFFF',\n          transitionIn: 'fadeln',\n          timeout: 4000,\n        });\n        loaderEl.style.display = 'none';\n        ulEl.innerHTML = '';\n        return;\n      }\n\n      loaderEl.style.display = 'none';\n\n      ulEl.innerHTML = createMarkup(data.hits);\n      //console.log(ulEl);\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    })\n    .catch(error => alert(error))\n    .finally(() => form.reset());\n}\n"],"names":["API_KEY","BASE_URL","imageSearch","inputEl","params","response","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formEl","ulEl","loaderEl","handleSubmit","event","form","iziToast","data","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAS,CACnC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAG,GAAGG,CAAO,GACb,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CClBO,SAASC,EAAaC,EAAK,CAC9B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,0CACgCL,CAAa;AAAA,8CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,sCAIlCC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAKxC,EACA,KAAK,EAAE,CACd,CC9BA,MAAMC,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAO,SAAS,cAAc,IAAI,EAClCC,EAAW,SAAS,cAAc,SAAS,EACjDA,EAAS,MAAM,QAAU,OAEzBF,EAAO,iBAAiB,SAAUG,CAAY,EAE9C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,OACbhB,EAAUiB,EAAK,SAAS,QAAQ,MACtC,GAAIjB,IAAY,GAAI,CAClBkB,EAAS,KAAK,CACZ,QAAS,2BACT,SAAU,WACV,gBAAiB,MACjB,aAAc,UACd,aAAc,SACd,QAAS,GACf,CAAK,EACD,MACD,CAEDJ,EAAS,MAAM,QAAU,QAEzBf,EAAYC,CAAO,EAChB,KAAKmB,GAAQ,CAEZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,gBAAiB,MACjB,aAAc,UACd,aAAc,SACd,QAAS,GACnB,CAAS,EACDJ,EAAS,MAAM,QAAU,OACzBD,EAAK,UAAY,GACjB,MACD,CAEDC,EAAS,MAAM,QAAU,OAEzBD,EAAK,UAAYV,EAAagB,EAAK,IAAI,EAEtB,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,MAAMA,CAAK,CAAC,EAC3B,QAAQ,IAAMJ,EAAK,MAAK,CAAE,CAC/B"}